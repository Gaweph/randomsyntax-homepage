import{S as t,i as e,s as r,c as i,a as n,k as o,g as a,p as s,n as c,r as f,u as l,v as g,j as u,t as d,e as $,h,d as m,f as p,o as S,q as v}from"./start-8b1320a7.js";import{P as y,a as b}from"./Post-Contents.svelte-dd183a07.js";import{C as z}from"./Callout.svelte-2e58b6c7.js";import{L as w}from"./Link-External.svelte-91155ef4.js";import{L as x}from"./Link.svelte-ef8e225c.js";import{F as M,P as C}from"./Full-Screen.svelte-596eb8ac.js";import"./Post-Tags-Projects.svelte-e39177b9.js";import"./Icon.svelte-56c92e03.js";import"./free-solid-svg-icons-650f6a7f.js";var P=function(){function t(){}return t.getColorVector=function(t,e){return e.createVector(e.red(t),e.green(t),e.blue(t))},t.rainbowColorBase=function(t){return[t.color("red"),t.color("orange"),t.color("yellow"),t.color("green"),t.color(38,58,150),t.color("indigo"),t.color("violet")]},t.getColorsArray=function(e,r,i){var n=this;void 0===i&&(i=null),null==i&&(i=t.rainbowColorBase(e));for(var o=i.map((function(t){return n.getColorVector(t,e)})),a=new Array,s=0;s<r;s++){var c=s/r*(o.length-1),f=Math.floor(c),l=c-f,g=this.getColorByPercentage(o[f],o[f+1],l);a.push(e.color(g.x,g.y,g.z))}return a},t.getColorByPercentage=function(t,e,r){var i=t.copy(),n=e.copy().sub(i).mult(r);return i.add(n)},t}(),j=function(){function t(){}return t.drawForCombination=function(e,r,i,n,o){var a=(r+1)*o.gridSize,s=(i+1)*o.gridSize,c=r*o.gridSize,f=i*o.gridSize,l=a-o.gridSize/2,g=s-o.gridSize/2;"0000"==n||("0001"==n?e.line(c,g,l,f):"0010"==n?e.line(a-o.gridSize/2,f,a,g):"0011"==n?e.line(c,g,a,g):"0100"==n?e.line(a-o.gridSize/2,s,a,s-o.gridSize/2):"0101"==n?(t.drawForCombination(e,r,i,"0001",o),t.drawForCombination(e,r,i,"0100",o)):"0110"==n?e.line(l,f,l,s):"0111"==n||"1000"==n?e.line(c,s-o.gridSize/2,l,s):"1001"==n?e.line(a-o.gridSize/2,f,a-o.gridSize/2,s):"1010"==n?(t.drawForCombination(e,r,i,"0010",o),t.drawForCombination(e,r,i,"1000",o)):"1011"==n?e.line(a-o.gridSize/2,s,a,s-o.gridSize/2):"1100"==n?e.line(c,s-o.gridSize/2,a,s-o.gridSize/2):"1101"==n?e.line(l,f,a,g):"1110"==n?e.line(l,f,c,g):"1111"==n||console.log("bad number"+n))},t.getCurrentPointArray=function(t,e,r){for(var i=[],n=0;n<t.height/r.gridSize;n++){i[n]=[];for(var o=0;o<t.width/r.gridSize;o++)i[n][o]=0}for(var a=t.width/r.gridSize,s=t.height/r.gridSize,c=0,f=e;c<f.length;c++){var l=f[c],g=Math.max(0,t.floor((l.x-l.r)/r.gridSize)),u=Math.max(0,t.floor((l.y-l.r)/r.gridSize)),d=Math.min(a-1,t.ceil((l.x+l.r)/r.gridSize)),$=Math.min(s-1,t.ceil((l.y+l.r)/r.gridSize));for(n=u;n<=$;n++)for(o=g;o<=d;o++){var h=l.inside(o*r.gridSize,n*r.gridSize);if(h>=1)try{i[n][o]=Math.max(h,i[n][o])}catch(t){console.log(n,o)}}}return i},t.drawSquares=function(e,r,i){for(var n=1;n<r.length-1;n++)for(var o=r[n],a=1;a<o.length-1;a++){var s=r[n][a]>0?"1":"0",c=r[n][a+1]>0?"1":"0",f=r[n+1][a+1]>0?"1":"0",l=r[n+1][a]>0?"1":"0";e.stroke(i.colorsArray[e.floor(a*i.gridSize)]),t.drawForCombination(e,a,n,l+f+c+s,i)}},t}(),A=function(){function t(t,e,r,i,n,o,a){this.p=t,this.pointX=e,this.pointY=r,this.vx=i,this.vy=n,this.radius=o,this.PARAMS=a}return t.prototype.inside=function(t,e){return this.r*this.r/((t-this.x)*(t-this.x)+(e-this.y)*(e-this.y))},t.prototype.move=function(){this.pointX+=this.vx/this.p.width,this.pointY+=this.vy/this.p.height,(this.x-this.r<0||this.x+this.r>this.p.width)&&(this.vx*=-1),(this.y-this.r<0||this.y+this.r>this.p.height)&&(this.vy*=-1)},Object.defineProperty(t.prototype,"r",{get:function(){return this.radius*this.PARAMS.maxPointSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.pointX*this.p.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.pointY*this.p.height},enumerable:!0,configurable:!0}),t}();let q,k,F;var L=function(t){function e(){q.colorsArray=P.getColorsArray(t,t.floor(t.width)),q.maxPointSize=t.width/15}q={gridSize:15,maxPointSize:10,numberOfpoints:100,colorsArray:[]},t.preload=function(){},t.setup=function(){var r=t._userNode.offsetWidth,i=t._userNode.offsetHeight;t.createCanvas(r,i),k=[];for(var n=0;n<q.numberOfpoints;n++){var o=Math.random(),a=Math.random(),s=2*Math.random()-1,c=2*Math.random()-1,f=Math.random();k.push(new A(t,o,a,s,c,f,q))}F=t.createSlider(2,30,q.gridSize,2),F.position(10,10),e()},t.windowResized=function(){var r=t._userNode.offsetWidth,i=t._userNode.offsetHeight;t.createCanvas(r,i),e()},t.draw=function(){t.background(1),q.gridSize=F.value(),t.strokeWeight(2);var e=j.getCurrentPointArray(t,k,q);j.drawSquares(t,e,q);for(var r=0,i=k;r<i.length;r++){i[r].move()}t.textSize(15),t.noStroke(),t.fill(255),t.text("fps: "+t.frameRate(),10,50)}};function R(t){let e;return{c(){e=d("Metaballs and Marching Squares")},l(t){e=h(t,"Metaballs and Marching Squares")},m(t,r){c(t,e,r)},d(t){t&&u(e)}}}function O(t){let e,r;return e=new C({props:{sketch:L}}),{c(){i(e.$$.fragment)},l(t){o(e.$$.fragment,t)},m(t,i){s(e,t,i),r=!0},p:v,i(t){r||(f(e.$$.fragment,t),r=!0)},o(t){l(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function B(t){let e;return{c(){e=d("Source")},l(t){e=h(t,"Source")},m(t,r){c(t,e,r)},d(t){t&&u(e)}}}function N(t){let e;return{c(){e=d("Linear interpolation version")},l(t){e=h(t,"Linear interpolation version")},m(t,r){c(t,e,r)},d(t){t&&u(e)}}}function W(t){let e,r,n,a;return r=new x({props:{href:"marching-squares-linear-interpolation",$$slots:{default:[N]},$$scope:{ctx:t}}}),{c(){e=d("A Less blocky\n    "),i(r.$$.fragment),n=d("\n    can be found in a future post")},l(t){e=h(t,"A Less blocky\n    "),o(r.$$.fragment,t),n=h(t,"\n    can be found in a future post")},m(t,i){c(t,e,i),s(r,t,i),c(t,n,i),a=!0},p(t,e){const i={};4&e&&(i.$$scope={dirty:e,ctx:t}),r.$set(i)},i(t){a||(f(r.$$.fragment,t),a=!0)},o(t){l(r.$$.fragment,t),a=!1},d(t){t&&u(e),g(r,t),t&&u(n)}}}function _(t){let e,r,v,y,b,x,C,P,j,A,q,k,F,L;return r=new w({props:{href:"http://jamie-wong.com/2014/08/19/metaballs-and-marching-squares/",$$slots:{default:[R]},$$scope:{ctx:t}}}),C=new M({props:{$$slots:{default:[O]},$$scope:{ctx:t}}}),q=new w({props:{href:"https://github.com/Gaweph/p5-live-examples/tree/master/Random/MarchingSquares",$$slots:{default:[B]},$$scope:{ctx:t}}}),F=new z({props:{$$slots:{default:[W]},$$scope:{ctx:t}}}),{c(){e=d("My initial implementation of the **Marching Squares** algorithm, I was\n  insipred after reading\n  "),i(r.$$.fragment),v=d("\n  by\n  "),y=$("strong"),b=d("Jamie Wong"),x=n(),i(C.$$.fragment),P=n(),j=$("br"),A=n(),i(q.$$.fragment),k=n(),i(F.$$.fragment)},l(t){e=h(t,"My initial implementation of the **Marching Squares** algorithm, I was\n  insipred after reading\n  "),o(r.$$.fragment,t),v=h(t,"\n  by\n  "),y=m(t,"STRONG",{});var i=p(y);b=h(i,"Jamie Wong"),i.forEach(u),x=a(t),o(C.$$.fragment,t),P=a(t),j=m(t,"BR",{}),A=a(t),o(q.$$.fragment,t),k=a(t),o(F.$$.fragment,t)},m(t,i){c(t,e,i),s(r,t,i),c(t,v,i),c(t,y,i),S(y,b),c(t,x,i),s(C,t,i),c(t,P,i),c(t,j,i),c(t,A,i),s(q,t,i),c(t,k,i),s(F,t,i),L=!0},p(t,e){const i={};4&e&&(i.$$scope={dirty:e,ctx:t}),r.$set(i);const n={};4&e&&(n.$$scope={dirty:e,ctx:t}),C.$set(n);const o={};4&e&&(o.$$scope={dirty:e,ctx:t}),q.$set(o);const a={};4&e&&(a.$$scope={dirty:e,ctx:t}),F.$set(a)},i(t){L||(f(r.$$.fragment,t),f(C.$$.fragment,t),f(q.$$.fragment,t),f(F.$$.fragment,t),L=!0)},o(t){l(r.$$.fragment,t),l(C.$$.fragment,t),l(q.$$.fragment,t),l(F.$$.fragment,t),L=!1},d(t){t&&u(e),g(r,t),t&&u(v),t&&u(y),t&&u(x),g(C,t),t&&u(P),t&&u(j),t&&u(A),g(q,t),t&&u(k),g(F,t)}}}function I(t){let e,r,d,$;return e=new y({props:{title:V,tags:t[0],projects:t[1]}}),d=new b({props:{$$slots:{default:[_]},$$scope:{ctx:t}}}),{c(){i(e.$$.fragment),r=n(),i(d.$$.fragment)},l(t){o(e.$$.fragment,t),r=a(t),o(d.$$.fragment,t)},m(t,i){s(e,t,i),c(t,r,i),s(d,t,i),$=!0},p(t,[e]){const r={};4&e&&(r.$$scope={dirty:e,ctx:t}),d.$set(r)},i(t){$||(f(e.$$.fragment,t),f(d.$$.fragment,t),$=!0)},o(t){l(e.$$.fragment,t),l(d.$$.fragment,t),$=!1},d(t){g(e,t),t&&u(r),g(d,t)}}}const V="Marching Squares";function X(t){return[["p5"],[]]}export default class extends t{constructor(t){super(),e(this,t,X,I,r,{})}}
//# sourceMappingURL=marching-squares.svelte-152bdbf8.js.map
